<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Remote</title>
  </head>
  <body>
    <div id="grid-container">
      <div id="nav-grid">
        <div>
          <button class="nav-grid-button" id="BACK">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-undo-2">
              <path d="M9 14 4 9l5-5" />
              <path
                d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11" />
            </svg>
          </button>
        </div>
        <div>
          <button class="nav-grid-button" id="UP">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-up">
              <path d="m5 12 7-7 7 7" />
              <path d="M12 19V5" />
            </svg>
          </button>
        </div>
        <div>
          <button class="nav-grid-button" id="FULLSCREEN">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-up">
              <path d="m5 12 7-7 7 7" />
              <path d="M12 19V5" />
            </svg>
          </button>
        </div>
        <div>
          <button class="nav-grid-button" id="LEFT">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-left">
              <path d="m12 19-7-7 7-7" />
              <path d="M19 12H5" />
            </svg>
          </button>
        </div>
        <div><button class="nav-grid-button" id="OK">OK</button></div>
        <div>
          <button class="nav-grid-button" id="RIGHT">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-right">
              <path d="M5 12h14" />
              <path d="m12 5 7 7-7 7" />
            </svg>
          </button>
        </div>
        <div></div>
        <div>
          <button class="nav-grid-button" id="DOWN">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-down">
              <path d="M12 5v14" />
              <path d="m19 12-7 7-7-7" />
            </svg>
          </button>
        </div>
        <div>
          <button class="nav-grid-button" id="QR">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-qr-code">
              <rect width="5" height="5" x="3" y="3" rx="1" />
              <rect width="5" height="5" x="16" y="3" rx="1" />
              <rect width="5" height="5" x="3" y="16" rx="1" />
              <path d="M21 16h-3a2 2 0 0 0-2 2v3" />
              <path d="M21 21v.01" />
              <path d="M12 7v3a2 2 0 0 1-2 2H7" />
              <path d="M3 12h.01" />
              <path d="M12 3h.01" />
              <path d="M12 16v.01" />
              <path d="M16 12h1" />
              <path d="M21 12v.01" />
              <path d="M12 21v-1" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <script>
      let uniqueId =
        Math.random().toString(36).substring(2) + Date.now().toString(36);

      sendEvent("HEARTBEAT", "PING", uniqueId);
      window.setInterval(() => {
        sendEvent("HEARTBEAT", "PING", uniqueId);
      }, 5000);

      document.querySelectorAll(".nav-grid-button").forEach((button) => {
        button.addEventListener("click", (event) => {
          sendEvent("NAVIGATE", event.target.id);
        });
      });

      function sendEvent(_event, _action, _modifier = "") {
        let destination =
          "/actions?" +
          new URLSearchParams({
            event_type: _event,
            action: _action,
            modifier: _modifier,
          }).toString();

        fetch(destination, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
        });
      }
    </script>
    <style>
      html,
      body {
        height: 100%;
        overflow: hidden;
      }

      #grid-container {
        display: flex;
        justify-content: center;
        height: 100%;
        justify-items: center;
        align-items: center;
      }

      #nav-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        gap: 10px;
        height: auto;
        width: auto;
        padding: 10px;
        margin: auto;
      }

      .nav-grid-button {
        height: 200px;
        width: 200px;
        font-size: 2em;
        background-color: #333;
        color: white;
        border: none;
        border-radius: 10px;
        touch-action: manipulation;
      }

      html {
        font-family: Arial, sans-serif;
        background-color: #292929;
      }
    </style>
  </body>
</html>
